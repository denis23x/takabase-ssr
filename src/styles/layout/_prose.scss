@mixin first-and-last() {
  /* Remove unnecessary margin from first and last element */

  & > * {
    &:first-child {
      @apply mt-0 #{!important};
    }

    &:last-child {
      @apply mb-0 #{!important};
    }
  }
}

.prose {
  h1, h2, h3, h4, h5, h6 {
    @apply my-4;
  }

  hr {
    @apply my-4;
  }

  iframe {
    @apply rounded-box aspect-video w-full h-auto;
  }

  img {
    @apply m-0;

    &:not(.mask) {
      @apply rounded-box;
    }

    &:not([width]):not([height]) {
      @apply w-full aspect-auto;
    }
  }

  a {
    &:not(.not-prose) {
      @apply link after:content-['\279A'] after:inline-block after:px-1;
    }
  }

  p {
    @apply my-4;

    &:not(.not-prose) {
      @apply text-ellipsis overflow-hidden;

      &:empty {
        @apply hidden;
      }
    }
  }

  ul {
    @apply marker:text-info my-4;

    &.form-control {
      @apply list-none p-0;

      li {
        @apply py-1;
      }

      ul {
        @apply ml-8;
      }
    }

    ul {
      @apply mb-0;
    }
  }

  ol {
    @apply marker:font-bold my-4;

    ol {
      @apply mb-0;
    }
  }

  mark {
    @apply bg-primary text-primary-content p-1 rounded;

    * {
      @apply text-primary-content;
    }
  }

  table {
    @apply my-0;
  }

  pre {
    @apply text-sm #{!important};
  }

  details {
    @apply my-4;

    .collapse-content {
      @apply bg-base-100 p-4;

      @include first-and-last();
    }

    details {
      summary {
        @apply text-lg after:invisible;
      }
    }
  }

  @include first-and-last();
}
