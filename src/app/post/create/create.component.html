<section class="posts-create grid grid-cols-1 grid-rows-1 gap-4 px-4">
  <header
    class="header bg-primary-2 z-20 sticky top-0 px-4 -mx-4"
    [class.hidden]="!editorControls">
    <div
      class="border-b border-primary-4 py-4"
      appMarkdown
      [appTextareaId]="'textarea'"
      [appPreviewId]="'preview'">
    </div>
  </header>
  <div class="content mb-4">
    <div class="splitter grid mb-4">
      <div class="editor relative">
        <form
          class="block"
          [formGroup]="postForm"
          (ngSubmit)="onSubmitForm()">
          <fieldset
            class="w-full"
            *ngIf="postForm.get('body') as body">
            <label class="flex">
              <textarea
                id="textarea"
                class="form-control bg-primary-3 resize-none w-full overflow-auto p-4"
                [class.whitespace-pre]="editorWhitespace"
                formControlName="body"
                placeholder="Type a post.."
                aria-label="Editor">{{body.value}}
              </textarea>
            </label>
          </fieldset>
        </form>
        <div class="layout flex items-center justify-between">
          <ul class="flex lg:flex-col items-center">
            <li class="inline-block">
              <button
                class="fill-current text-secondary-1 hover:text-info-1 p-2.5"
                [class.text-info-1]="editorControls"
                type="button"
                [attr.aria-label]="'Controls'"
                appSvgIcon
                [appIcon]="'window'"
                [appSquare]="'1.25em'"
                (click)="editorControls = !editorControls">
              </button>
            </li>
            <li class="inline-block">
              <button
                class="fill-current text-secondary-1 hover:text-info-1 p-2"
                [class.text-info-1]="editorWhitespace"
                type="button"
                [attr.aria-label]="'Wrap'"
                appSvgIcon
                [appIcon]="'text-left'"
                [appSquare]="'1.5em'"
                (click)="editorWhitespace = !editorWhitespace">
              </button>
            </li>
            <li class="inline-block">
              <button
                class="fill-current text-secondary-1 hover:text-info-1 p-2.5"
                type="button"
                [attr.aria-label]="'Preview'"
                appSvgIcon
                [appIcon]="'eye'"
                [appSquare]="'1.25em'">
              </button>
            </li>
          </ul>
          <ul class="flex lg:flex-col items-center">
            <li class="inline-block">
              <button
                class="fill-current text-secondary-1 hover:text-info-1 p-2.5"
                [class.text-info-1]="editorScrollSync"
                type="button"
                [attr.aria-label]="'Scroll'"
                appSvgIcon
                [appIcon]="'mouse2'"
                [appSquare]="'1.25em'"
                (click)="editorScrollSync = !editorScrollSync">
              </button>
            </li>
          </ul>
        </div>
      </div>
      <div class="gutter-lg hidden lg:flex flex-col items-center justify-between self-center p-2" #gutterLg>
        <button
          class="fill-current text-secondary-1 opacity-50 cursor-col-resize"
          type="button"
          [attr.aria-label]="'Grip'"
          appSvgIcon
          [appIcon]="'grip-vertical'"
          [appSquare]="'1.5em'">
        </button>
      </div>
      <div class="gutter flex lg:hidden items-center justify-center self-center p-2">
        <button
          class="fill-current text-secondary-1 opacity-50 cursor-row-resize"
          type="button"
          [attr.aria-label]="'Grip'"
          appSvgIcon
          [appIcon]="'grip-horizontal'"
          [appSquare]="'1.5em'">
        </button>
      </div>
      <article
        id="preview"
        class="preview markdown-html bg-primary-3 border border-primary-4 rounded-md overflow-auto p-4">
      </article>
    </div>
    <button
      class="btn btn-success block w-full"
      type="button"
      [disabled]="true">Submit
    </button>
  </div>
</section>
