<!-- @format -->

<section class="mx-auto p-4 md:w-128">
	<form
		class="bg-primary-3 border-primary-4 flex flex-col space-y-4 rounded-md border p-4"
		[formGroup]="resetForm"
		(ngSubmit)="onSubmitForm()"
	>
		<div class="flex flex-col">
			<h2 class="text-secondary-1 text-2xl font-medium">Password reset</h2>
			<div class="flex space-x-1 text-base">
				<span class="text-secondary-2 block">Remembered password?</span>
				<a
					class="text-info-1 hover:underline"
					[routerLink]="['../login']"
					aria-label="Try login"
					>Try login</a
				>
			</div>
		</div>
		<fieldset class="flex flex-col space-y-4" [disabled]="resetFormIsSubmitted">
			<fieldset
				class="flex flex-col space-y-2"
				*ngIf="resetForm.get('email') as email"
			>
				<label class="text-secondary-2 block text-sm" for="email">Email</label>
				<input
					id="email"
					autocomplete="username"
					type="email"
					class="bg-primary-2 form-control truncate"
					formControlName="email"
					placeholder="Email"
					aria-label="Email"
				/>
				<label
					class="text-danger-1 block text-sm"
					for="email"
					*ngIf="email.touched && email.errors"
					[ngSwitch]="true"
				>
					<ng-container *ngSwitchCase="!!email.errors.required"
						>Required</ng-container
					>
					<ng-container *ngSwitchCase="!!email.errors.email"
						>Email must be a real email address</ng-container
					>
				</label>
				<label class="text-secondary-2 block text-sm" for="email"
					>We will send an email with further instructions</label
				>
			</fieldset>
			<button
				class="md btn btn-success w-full"
				type="submit"
				aria-label="Reset"
				[disabled]="resetForm.invalid || resetFormIsSubmitted"
			>
				Reset
			</button>
		</fieldset>
	</form>
</section>
