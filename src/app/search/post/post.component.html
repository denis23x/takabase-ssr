<!-- @format -->

<ng-container>
	<div class="grid gap-4">
		@if (postList.length) {
			<ul class="grid grid-cols-2 grid-rows-none gap-4 sm:grid-cols-3 md:grid-cols-4">
				@for (post of postList; track post.id; let i = $index) {
					<li
						class="block"
						appCardPost
						[ngClass]="post.image ? 'row-span-6' : 'row-span-3'"
						[appCardPostPost]="post"
						[appCardPostSkeletonToggle]="postListSkeletonToggle"
						[appPostUrl]="'./'"
					></li>
					@if (i === 10 || i === 20 || i === 30) {
						<li class="block row-span-6" appAd></li>
					}
				}
			</ul>
			@if (!postListSkeletonToggle) {
				<div
					class="block empty:hidden"
					appListLoadMore
					[appListLoadMoreIsLoading]="postListIsLoading$ | async"
					[appListLoadMoreSearchResponse]="postListSearchResponse"
					(appLoadMoreToggle)="getPostList(true)"
				></div>
			}
		} @else {
			<div class="block" appListMock [appListMockTemplate]="'search-post-not-found'"></div>
		}
	</div>
	<div class="block">
		<router-outlet></router-outlet>
	</div>
</ng-container>
