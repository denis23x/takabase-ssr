<section class="grid grid-cols-1 grid-rows-1 px-4">
  <nav class="bg-primary-2 border-b border-primary-4 overflow-hidden py-4">
    <ul class="flex justify-start items-center bg-primary-3 border border-primary-4 rounded-md overflow-auto px-1" #scrollRoot>
      <li class="inline-block" *ngFor="let link of ['Posts', 'Categories', 'Users']">
        <a
          class="block text-secondary-1 hover:text-info-1 hover:underline p-2"
          appScrollIntoView
          [appRoot]="scrollRoot"
          [appActive]="routerLinkActive.isActive"
          [routerLink]="link.toLowerCase()"
          [routerLinkActive]="'text-info-1'"
          [queryParamsHandling]="'preserve'"
          [attr.aria-label]="link"
          #routerLinkActive="routerLinkActive">{{link}}
        </a>
      </li>
    </ul>
  </nav>
  <form
    class="bg-primary-2 z-20 sticky top-0 border-b border-primary-4 w-full py-2"
    [formGroup]="searchForm"
    autocomplete="off">
    <fieldset *ngIf="searchForm.get('query') as query">
      <label class="block relative" for="search">
        <input
          id="search"
          type="text"
          class="form-control bg-primary-3 my-2 pr-10"
          formControlName="query"
          placeholder="Search"
          aria-label="Search" />
        <button
          class="absolute top-0 right-0 fill-current opacity-50 hover:opacity-100 text-secondary-2 opacity-50 hover:text-danger-1 p-2"
          type="button"
          *ngIf="query.value.length"
          aria-label="Clear"
          appSvgIcon
          [appIcon]="'x'"
          [appSquare]="'1.6rem'"
          (click)="query.setValue('')"
          [@fade]>
        </button>
      </label>
      <span class="block text-sm text-danger-1" *ngIf="query.touched && query.errors" [ngSwitch]="true">
        <ng-container *ngSwitchCase="!!query.errors.minlength">Min length {{query.errors.minlength['requiredLength']}} characters</ng-container>
      </span>
    </fieldset>
  </form>
  <div class="content">
    <router-outlet></router-outlet>
  </div>
</section>
