<section class="grid grid-cols-1 grid-rows-1 px-4">
  <nav class="bg-primary-2 border-b border-primary-4 overflow-hidden py-4">
    <ul class="flex justify-start items-center bg-primary-3 border border-primary-4 rounded-md overflow-auto px-1">
      <li class="inline-block" *ngFor="let link of ['posts', 'categories', 'users']">
        <a
          class="block text-secondary-1 hover:text-info-1 hover:underline capitalize p-2"
          [routerLink]="link"
          [routerLinkActive]="'text-info-1'"
          [queryParamsHandling]="'preserve'">{{link}}
        </a>
      </li>
    </ul>
  </nav>
  <form class="bg-primary-2 z-20 sticky top-0 border-b border-primary-4 w-full py-4" [formGroup]="searchForm">
    <fieldset *ngIf="searchForm.get('query') as query">
      <label class="block relative" for="search">
        <input
          id="search"
          type="text"
          class="form-control bg-primary-3 pr-10"
          formControlName="query"
          autocomplete="off"
          placeholder="Search"
          aria-label="Search" />
        <span
          class="block absolute top-0 right-0 fill-current opacity-50 hover:opacity-100 text-secondary-2 opacity-50 cursor-pointer p-2 hover:text-danger-1"
          *ngIf="query.value.length"
          appSvgIcon
          [appIcon]="'x'"
          [appSquare]="'1.6rem'"
          (click)="query.setValue('')"
          [@fade]>
        </span>
      </label>
      <span class="block text-sm text-red-400" *ngIf="query.touched && query.errors" [ngSwitch]="true">
        <ng-container *ngSwitchCase="query.errors.minlength">Min length {{query.errors.minlength['requiredLength']}} characters</ng-container>
      </span>
    </fieldset>
  </form>
  <div class="content">
    <router-outlet></router-outlet>
  </div>
</section>
