<!-- @format -->

<ng-container>
	<ng-container *ngIf="!!abstractList.length; else abstractListEmptyTemplate">
		<ul class="grid grid-cols-1 grid-rows-none gap-4 sm:grid-cols-2 lg:grid-cols-3">
			<li
				class="block"
				appCardCategory
				*ngFor="let category of abstractList"
				[ngClass]="category.description ? 'row-span-6' : 'row-span-3'"
				[appCategory]="category"
				[appCategorySkeletonToggle]="abstractListSkeletonToggle"
			></li>
		</ul>
		<ng-container *ngIf="!abstractListPageScrollInfinite">
			<button
				class="btn-primary btn mt-4 w-full"
				type="button"
				aria-label="Load more"
				*ngIf="abstractListHasMore"
				[disabled]="abstractListIsLoading$ | async"
				(click)="getAbstractListLoadMore()"
			>
				<span class="loading loading-spinner" *ngIf="abstractListIsLoading$ | async"></span>
				Load more
			</button>
		</ng-container>
	</ng-container>
	<ng-template #abstractListEmptyTemplate>
		<ng-container [ngSwitch]="abstractListIsLoading$ | async">
			<div class="flex flex-col items-center space-y-4" *ngSwitchDefault>
				<i
					class="fill-current text-base-content"
					appSvgIcon
					[appIcon]="'exclamation-circle'"
					[appSquare]="'3em'"
				></i>
				<div class="text-center">
					<p class="text-xl font-bold text-base-content">
						Categories <span class="text-error">not found</span>
					</p>
					<a
						class="link text-sm"
						title="Create your own category"
						aria-label="Create your own category"
						[routerLink]="['/create']"
					>
						Create your own category
					</a>
				</div>
			</div>
			<div class="flex flex-col items-center" *ngSwitchCase="true">
				<progress class="progress-primary progress my-5 w-56"></progress>
				<span class="text-xl font-bold text-base-content">Loading</span>
			</div>
		</ng-container>
	</ng-template>
</ng-container>
