<!-- @format -->

<ng-container>
	<div class="navbar rounded-box border border-base-content/20 bg-base-100 shadow-xl !p-4">
		<div class="navbar-start">
			<a
				class="btn-ghost btn text-xl normal-case"
				title="Draft"
				aria-label="Draft"
				[routerLink]="['/']"
			>
				Draft
			</a>
		</div>
		<div class="navbar-end gap-4">
			<nav
				class="flex items-center justify-end gap-4"
				appSkeleton
				[appSkeletonToggle]="currentUserSkeletonToggle"
			>
				<ng-container *appAuthenticated="false">
					<a
						class="btn-ghost btn-square btn fill-current"
						title="Login"
						aria-label="Login"
						appSvgIcon
						[routerLink]="['/login']"
						[routerLinkActive]="['btn-active']"
						[appSvgIconIcon]="'person-circle'"
						[appSvgIconSquare]="'1.5em'"
					>
					</a>
				</ng-container>
				<ng-container *appAuthenticated="true">
					<a
						class="btn-ghost btn-square btn fill-current"
						title="Search"
						aria-label="Search"
						appSvgIcon
						[routerLink]="['/search']"
						[routerLinkActive]="['btn-active']"
						[appSvgIconIcon]="'search'"
						[appSvgIconSquare]="'1.5em'"
					>
					</a>
					<a
						class="btn-ghost btn-square btn fill-current"
						title="Create"
						aria-label="Create"
						appSvgIcon
						[routerLink]="['/create']"
						[routerLinkActive]="['btn-active']"
						[routerLinkActiveOptions]="{ exact: true }"
						[appSvgIconIcon]="'file-earmark-plus'"
						[appSvgIconSquare]="'1.5em'"
					>
					</a>
					<div
						class="flex cursor-pointer relative"
						data-pw="app-header-profile-dropdown"
						appDropdown
						[appDropdownPosition]="'bottom-right'"
					>
						<div class="avatar" slot="target">
							<figure
								class="h-12 w-12 rounded-btn relative overflow-hidden"
								appAvatar
								[appAvatarUser]="currentUser"
							></figure>
						</div>
						<ul
							class="menu menu-vertical menu-md ml-0 mt-2 rounded-btn border border-base-content/20 bg-base-100 p-2 shadow before:hidden"
							slot="content"
						>
							<li class="flex w-full snap-start scroll-my-2">
								<a
									class="rounded-btn block w-full truncate text-right"
									[title]="currentUser.name"
									[attr.aria-label]="currentUser.name"
									[routerLink]="[currentUser | userUrl]"
								>
									Profile
								</a>
							</li>
							<li class="flex w-full snap-start scroll-my-2">
								<a
									class="rounded-btn block w-full truncate text-right"
									title="Settings"
									aria-label="Settings"
									[routerLink]="['/settings']"
								>
									Settings
								</a>
							</li>
							<li class="flex w-full snap-start scroll-my-2">
								<a
									class="rounded-btn block w-full truncate text-right"
									title="About"
									aria-label="About"
									[routerLink]="['/help/about']"
								>
									About
								</a>
							</li>
						</ul>
					</div>
				</ng-container>
			</nav>
		</div>
	</div>
</ng-container>
