<!-- @format -->

<ng-container>
	<dialog
		class="modal"
		#postDeleteDialogElement
		(keydown.escape)="$event.preventDefault(); onTogglePostDeleteDialog(false)"
		(mousedown)="$event.target === $event.currentTarget ? onTogglePostDeleteDialog(false) : $event"
	>
		<div
			class="flex items-center justify-center w-full max-w-xs"
			appWindow
			[appWindowTitle]="'Delete'"
			[appWindowButtons]="['close']"
			(appWindowClose)="onTogglePostDeleteDialog(false)"
		>
			<div class="flex flex-col gap-4 p-4" slot="content">
				<p class="alert" role="alert">
					<i
						class="fill-current text-info"
						appSvgIcon
						[appSvgIconIcon]="'info-circle'"
						[appSvgIconSquare]="'1.5em'"
					></i>
					<span class="block"> Are you sure you want to delete this post? </span>
				</p>
				<button
					class="btn-error btn-outline btn-md btn"
					type="button"
					title="Delete"
					aria-label="Delete"
					[disabled]="postDeleteIsSubmitted()"
					(click)="onSubmitPostDelete()"
				>
					@if (postDeleteIsSubmitted()) {
						<span class="loading loading-spinner"></span>
					}
					Delete
				</button>
			</div>
		</div>
	</dialog>
</ng-container>
